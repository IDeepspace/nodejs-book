### 介绍

### 一、什么是 Node.js?

`Node.js` 的[官方网站](https://nodejs.org/en/)是这样描述的：

```
Node.js® is a JavaScript runtime built on Chrome's V8 JavaScript engine.
```

看到 `Node.js` 这个名字，初学者可能会误以为这是一个 `Javascript` 应用。事实上，`Node.js` 采用 `C++` 语言编写而成，基于 `Google Chrome` 的 `V8 JavaScript` 引擎的一个 `Javascript` 的运行环境，而不是一门语言或者框架。

#### 1、什么是 `V8` ？

提到 `Javascript`，大家首先想到的是日常使用的浏览器，现代浏览器包含了各种组件，包括渲染引擎、`Javascript` 引擎等等，其中 `Javascript` 引擎负责解释执行网页中的 `Javascript` 代码。

`Google` 使用 `C++` 语言编写了一个超快的 `JavaScript` 解释器 ——  `V8` 。该解释器拥有一个独特特征；你可以下载该引擎并将其嵌入任何应用程序。所以，`V8 JavaScript` 引擎并不仅限于在浏览器中运行。

由于 `Node.js` 采用了 `Google Chrome` 浏览器的 `V8` 引擎，所以说 `Node.js` 是 `JavaScript` 的运行平台。

而 `Node.js` 是一个后端的 `Javascript` 运行环境（支持的系统包括 `Linux`、`Windows`），这意味着我们可以编写系统级或者服务器端的 `Javascript` 代码，交给 `Node.js` 来解释执行，类似于下面的命令：

```shell
$ node helloWorld.js
```



#### 2、Node.js 旨在解决什么问题？

`Node.js` 公开宣称的目标是**旨在提供一种简单的构建可伸缩网络程序的方法**。

当前的服务器程序有什么问题？

在 `Java™` 和 `PHP` 这类语言中，每个连接都会生成一个新线程，每个新线程可能需要 `2 MB` 的配套内存。在一个拥有 `8 GB RAM` 的系统上，理论上最大的并发连接数量是 `4,000` 个用户。随着客户群的增长，如果希望 `Web` 应用程序支持更多用户，就必须添加更多服务器。这会增加服务器成本、流量成本和人工成本等成本。除这些成本上升外，还有一个潜在技术问题，即用户可能针对每个请求使用不同的服务器，因此，任何共享资源都必须在所有服务器之间共享。

鉴于以上原因，**整个 `Web` 应用程序架构（包括流量、处理器速度和内存速度）中的瓶颈是：服务器能够处理的并发连接的最大数量。**

`Node.js` 解决这个问题的方法是：**更改连接到服务器的方式**。

每个连接发射（`emit`）一个在 `Node.js` 引擎的进程中运行的事件（`event`），而不是为每个连接生成一个新的 `OS` 线程（并为其分配一些配套内存）。`Node` 声称它绝不会死锁，因为它根本不允许使用锁，它不会直接阻塞 `I/O` 调用，运行 `Node.js` 的服务器能支持数万个并发连接。



#### 3、优缺点

**优点：**

前面提到，`Node.js` 更改了连接服务器的方式，基于事件驱动的，所以很适合一些**高并发、`I/O` 密集型**的应用。

**缺点：**

- 不适合 `CPU` 密集型应用

  `CPU` 密集型应用给 `Node.js` 带来的挑战主要是：由于 `JavaScript` 单线程的，如果有长时间运行的计算（比如大循环），将会导致 `CPU` 时间片不能释放，使得后续 `I/O` 无法发起。`Node.js` 创始人建议：运行多个 `Node.js` 进程，利用某些通信机制来协调各项任务。分解大型运算任务为多个小任务，使得运算能够适时释放，不阻塞 `I/O` 调用的发起。

- 只支持单核 `CPU`，不能充分利用 `CPU` 。



#### 4、特点

- 事件驱动
- 异步编程
- 支持的编程语言是 `Javascript` 
- ......

第三个特点就不用多说了，前两个特点我们会在接下面的讲解中学习到。